

<app-header></app-header>
<div class="container" style="margin-top: 20px; margin-bottom: 20px;">
	<div class="row panel" *ngIf="user">
		<div class="col-md-4  ">
            <img src={{serverimg+user.image}} class="img-thumbnail picture" />

		</div>
        <div class="col-md-6 mt-md-5   ">
            <div   class="col-12  " id="Edit" >

                    <h1>{{user.name}}</h1>
                    <h4 >{{user.email}}</h4>
                    <span>Created at {{user.created_at}} </span>
                    <h5 class="">({{  getTest(user.created_at)  }})  </h5>

            </div>
        </div>
		<div class="col-md-4  ">
            <button  (click)="getUpdatefrm()" class="  my-btn my-btn-white   ">Update</button>
            <button  (click)="getRestfrm()"  class="  my-btn my-btn-white ">Rest Password</button>

		</div>

    </div>   
    
    <section class="ml-2 mt-4 row">


  
  
                    <div *ngIf="update"  class="col-12  " id="Edit" >
  
                        <nav aria-label="breadcrumb"  >
                            <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a alt="getUser()">User</a></li>
                            <li class="breadcrumb-item"><a >Edit</a></li>
  
                            </ol>
                        </nav>


                        <form [formGroup]="updateuserForm" class="row" (ngSubmit)="updateUser()">

                            <h5 *ngIf="success">Your form is valid!</h5>
                  
                            <div class="col-md-6">
                               <label for="">Name</label>
                               <input class="form-control" type="text" formControlName="name">
                              <div *ngIf="submitted && updateuserForm.controls.name.errors" class="error">
                                <div *ngIf="updateuserForm.controls.name.errors.required">Your name is required</div>
                              </div>
                            </div>

                            <div class="col-md-6">
                                <label for="">Email</label>
                                <input row="10" formControlName="email"/>
                                      
                                <div *ngIf="submitted && updateuserForm.controls.email.errors" class="error">
                                  <div *ngIf="updateuserForm.controls.email.errors.required">Your email is required</div>
                                </div>
                              </div>
                             
                            
                  
                  
                              <div class="col-md-12  row mb-2">
                                  <label  class="col-md-12" for="imgURL">Photo</label>
                  
                                  <span style="color:red;" *ngIf="message">{{message}}</span>
                                  <input class="form-control" #file type="file" accept='image/*'  id="imgURL" name="imgURL" (change)="preview(file.files)" />
                                  <img  class="col-md-6 ml-2" [src]="imgURL" height="200" >
                              </div>
                  
                        
                              <div class="col-md-12 mt-2">
                                  <div class="float-right">
                                      <input  type="submit" class="my-btn  my-btn-primary uppercase" value="Update" >
                                      <button type="button" class="my-btn my-btn-white uppercase"  (click)="getCancel()" >CANCEL</button>
                                  </div>  
                              </div>
                        
                          </form>
                  
                          <div *ngIf="submitted" class="results">
                          </div>


                       
  
                    </div>
           
           
                    <div *ngIf="rest"  class="tab-pane  " id="Password" role="tabpanel" aria-labelledby="home-tab">
  
                        <nav aria-label="breadcrumb"  >
                            <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a alt="getUser()">User</a></li>
                            <li class="breadcrumb-item"><a >Change Password</a></li>
  
                            </ol>
                        </nav>
  
                        <form [formGroup]="passwordsForm" class="row" (ngSubmit)="newPassword()">

                            <h5 *ngIf="success">Your form is valid!</h5>
                  
                            <div class="col-md-12">
                               <label for="">Old Password</label>
                               <input class="form-control" type="text" formControlName="oldpassword">
                              <div *ngIf="submitted && passwordsForm.controls.oldpassword.errors" class="error">
                                <div *ngIf="passwordsForm.controls.oldpassword.errors.required">Your Old Password is required</div>
                              </div>
                            </div>

                            <div class="col-md-12">
                                <label for="">New Password</label>
                                <input row="10" formControlName="newpassword"/>
                                      
                                <div *ngIf="submitted && passwordsForm.controls.newpassword.errors" class="error">
                                  <div *ngIf="passwordsForm.controls.newpassword.errors.required">Your New Password is required</div>
                                </div>
                            </div>
                             
                            
                            <div class="col-md-12">
                                <label for="">Confirm New Password</label>
                                <input row="10" formControlName="confirmpassword"/>
                                      
                                <div *ngIf="submitted && passwordsForm.controls.confirmpassword.errors" class="error">
                                  <div *ngIf="passwordsForm.controls.confirmpassword.errors.required">Your email is required</div>
                                </div>
                            </div>
                             
                  
                        
                              <div class="col-md-12 mt-2">
                                  <div class="float-right">
                                      <input  type="submit" class="my-btn  my-btn-primary uppercase" value="Update" >
                                      <button type="button" class="my-btn my-btn-white uppercase"  (click)="getCancel()" >CANCEL</button>
                                  </div>  
                              </div>
                        
                          </form>
  
                    
                           
                    </div>
  
  
    </section>
  
  
  

</div>


